{"ast":null,"code":"import { ITodoActionsTypes } from \"../../types/types\";\nimport { call, put, takeEvery } from \"redux-saga/effects\";\nimport { TodoApi } from \"../../api\";\nfunction* sagaCreateTodo(action) {\n  try {\n    const todoObject = {\n      title: action.payload,\n      done: false\n    };\n    const todo = yield call(TodoApi.createTodo, todoObject);\n    yield put({\n      type: ITodoActionsTypes.CREATE_TODO,\n      payload: todo\n    });\n  } catch (error) {\n    console.log('error', error);\n  }\n}\nexport function* sagaWatcher() {\n  yield takeEvery(ITodoActionsTypes.CHANGE_TODO, sagaCreateTodo);\n}","map":{"version":3,"names":["ITodoActionsTypes","call","put","takeEvery","TodoApi","sagaCreateTodo","action","todoObject","title","payload","done","todo","createTodo","type","CREATE_TODO","error","console","log","sagaWatcher","CHANGE_TODO"],"sources":["E:/bem/client/todo/src/redux/saga/saga.ts"],"sourcesContent":["import {ICreateAction, ITodo, ITodoActionsTypes} from \"../../types/types\";\r\nimport {call, Effect, put, takeEvery} from \"redux-saga/effects\";\r\nimport {TodoApi} from \"../../api\";\r\n\r\nfunction* sagaCreateTodo(action: ICreateAction): Generator<Effect, void> {\r\n    try {\r\n        const todoObject: Partial<ITodo> = {\r\n            title: action.payload,\r\n            done: false\r\n        }\r\n        const todo = yield call(TodoApi.createTodo, todoObject)\r\n\r\n        yield put({ type: ITodoActionsTypes.CREATE_TODO, payload: todo})\r\n    } catch (error) {\r\n        console.log('error', error)\r\n    }\r\n}\r\n\r\nexport function* sagaWatcher(): Generator<Effect, void> {\r\n    yield takeEvery(ITodoActionsTypes.CHANGE_TODO, sagaCreateTodo)\r\n}"],"mappings":"AAAA,SAA8BA,iBAAiB,QAAO,mBAAmB;AACzE,SAAQC,IAAI,EAAUC,GAAG,EAAEC,SAAS,QAAO,oBAAoB;AAC/D,SAAQC,OAAO,QAAO,WAAW;AAEjC,UAAUC,cAAcA,CAACC,MAAqB,EAA2B;EACrE,IAAI;IACA,MAAMC,UAA0B,GAAG;MAC/BC,KAAK,EAAEF,MAAM,CAACG,OAAO;MACrBC,IAAI,EAAE;IACV,CAAC;IACD,MAAMC,IAAI,GAAG,MAAMV,IAAI,CAACG,OAAO,CAACQ,UAAU,EAAEL,UAAU,CAAC;IAEvD,MAAML,GAAG,CAAC;MAAEW,IAAI,EAAEb,iBAAiB,CAACc,WAAW;MAAEL,OAAO,EAAEE;IAAI,CAAC,CAAC;EACpE,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;EAC/B;AACJ;AAEA,OAAO,UAAUG,WAAWA,CAAA,EAA4B;EACpD,MAAMf,SAAS,CAACH,iBAAiB,CAACmB,WAAW,EAAEd,cAAc,CAAC;AAClE"},"metadata":{},"sourceType":"module","externalDependencies":[]}