{"ast":null,"code":"import { ITodoActionsTypes } from \"../../types/types\";\nimport { call, put, takeEvery } from \"redux-saga/effects\";\nimport { TodoApi } from \"../../api\";\nfunction* sagaCreateTodo(action) {\n  try {\n    const todoObject = {\n      title: action.payload,\n      done: false\n    };\n    const todo = yield call(TodoApi.createTodo, todoObject);\n    yield put({\n      type: ITodoActionsTypes.CREATE_TODO_SUCCESS,\n      payload: todo\n    });\n  } catch (error) {\n    console.log('error', error);\n  }\n}\nfunction* sagaDeleteTodo(action) {\n  try {\n    yield call(TodoApi.deleteTodo, action.payload);\n    yield put({\n      type: ITodoActionsTypes.DELETE_TODO_SUCCESS,\n      payload: action.payload\n    });\n  } catch (error) {\n    console.log('error', error);\n  }\n}\nfunction* sagaGetTodos() {\n  try {\n    const todo = yield call(TodoApi.getTodos);\n    yield put({\n      type: ITodoActionsTypes.GET_TODOS_SUCCESS,\n      payload: todo\n    });\n  } catch (error) {\n    console.log('error', error);\n  }\n}\nexport function* sagaWatcher() {\n  yield takeEvery(ITodoActionsTypes.CREATE_TODO, sagaCreateTodo);\n  yield takeEvery(ITodoActionsTypes.DELETE_TODO, sagaDeleteTodo);\n}","map":{"version":3,"names":["ITodoActionsTypes","call","put","takeEvery","TodoApi","sagaCreateTodo","action","todoObject","title","payload","done","todo","createTodo","type","CREATE_TODO_SUCCESS","error","console","log","sagaDeleteTodo","deleteTodo","DELETE_TODO_SUCCESS","sagaGetTodos","getTodos","GET_TODOS_SUCCESS","sagaWatcher","CREATE_TODO","DELETE_TODO"],"sources":["E:/bem/client/todo/src/redux/saga/sagas.ts"],"sourcesContent":["import {ICreateAction, IDeleteAction, ITodo, ITodoActionsTypes} from \"../../types/types\";\r\nimport {call, Effect, put, takeEvery} from \"redux-saga/effects\";\r\nimport {TodoApi} from \"../../api\";\r\n\r\nfunction* sagaCreateTodo(action: ICreateAction): Generator<Effect, void> {\r\n    try {\r\n        const todoObject: Partial<ITodo> = {\r\n            title: action.payload,\r\n            done: false\r\n        }\r\n        const todo = yield call(TodoApi.createTodo, todoObject)\r\n\r\n        yield put({ type: ITodoActionsTypes.CREATE_TODO_SUCCESS, payload: todo})\r\n    } catch (error) {\r\n        console.log('error', error)\r\n    }\r\n}\r\n\r\nfunction* sagaDeleteTodo(action: IDeleteAction): Generator<Effect, void> {\r\n    try {\r\n        yield call(TodoApi.deleteTodo, action.payload)\r\n\r\n        yield put({ type: ITodoActionsTypes.DELETE_TODO_SUCCESS, payload: action.payload})\r\n    } catch (error) {\r\n        console.log('error', error)\r\n    }\r\n}\r\nfunction* sagaGetTodos(): Generator<Effect, void, ITodo[]> {\r\n    try {\r\n        const todo = yield call(TodoApi.getTodos)\r\n\r\n        yield put({ type: ITodoActionsTypes.GET_TODOS_SUCCESS, payload: todo})\r\n    } catch (error) {\r\n        console.log('error', error)\r\n    }\r\n}\r\n\r\nexport function* sagaWatcher(): Generator<Effect, void> {\r\n    yield takeEvery(ITodoActionsTypes.CREATE_TODO, sagaCreateTodo)\r\n    yield takeEvery(ITodoActionsTypes.DELETE_TODO, sagaDeleteTodo)\r\n}"],"mappings":"AAAA,SAA6CA,iBAAiB,QAAO,mBAAmB;AACxF,SAAQC,IAAI,EAAUC,GAAG,EAAEC,SAAS,QAAO,oBAAoB;AAC/D,SAAQC,OAAO,QAAO,WAAW;AAEjC,UAAUC,cAAcA,CAACC,MAAqB,EAA2B;EACrE,IAAI;IACA,MAAMC,UAA0B,GAAG;MAC/BC,KAAK,EAAEF,MAAM,CAACG,OAAO;MACrBC,IAAI,EAAE;IACV,CAAC;IACD,MAAMC,IAAI,GAAG,MAAMV,IAAI,CAACG,OAAO,CAACQ,UAAU,EAAEL,UAAU,CAAC;IAEvD,MAAML,GAAG,CAAC;MAAEW,IAAI,EAAEb,iBAAiB,CAACc,mBAAmB;MAAEL,OAAO,EAAEE;IAAI,CAAC,CAAC;EAC5E,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;EAC/B;AACJ;AAEA,UAAUG,cAAcA,CAACZ,MAAqB,EAA2B;EACrE,IAAI;IACA,MAAML,IAAI,CAACG,OAAO,CAACe,UAAU,EAAEb,MAAM,CAACG,OAAO,CAAC;IAE9C,MAAMP,GAAG,CAAC;MAAEW,IAAI,EAAEb,iBAAiB,CAACoB,mBAAmB;MAAEX,OAAO,EAAEH,MAAM,CAACG;IAAO,CAAC,CAAC;EACtF,CAAC,CAAC,OAAOM,KAAK,EAAE;IACZC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;EAC/B;AACJ;AACA,UAAUM,YAAYA,CAAA,EAAqC;EACvD,IAAI;IACA,MAAMV,IAAI,GAAG,MAAMV,IAAI,CAACG,OAAO,CAACkB,QAAQ,CAAC;IAEzC,MAAMpB,GAAG,CAAC;MAAEW,IAAI,EAAEb,iBAAiB,CAACuB,iBAAiB;MAAEd,OAAO,EAAEE;IAAI,CAAC,CAAC;EAC1E,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;EAC/B;AACJ;AAEA,OAAO,UAAUS,WAAWA,CAAA,EAA4B;EACpD,MAAMrB,SAAS,CAACH,iBAAiB,CAACyB,WAAW,EAAEpB,cAAc,CAAC;EAC9D,MAAMF,SAAS,CAACH,iBAAiB,CAAC0B,WAAW,EAAER,cAAc,CAAC;AAClE"},"metadata":{},"sourceType":"module","externalDependencies":[]}